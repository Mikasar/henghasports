webpackJsonp([45],{cHot:function(t,e){},v6Ox:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("tlGt"),u=s("Au9i"),o={name:"recharge",data:function(){return{tradeNo:"",phoneNum:"",counts:null,otherSum:!0,sumCount:0,sumMoney:null,selected:"selected",unselected:"unselected",timer:null,sums:[{num:100,selected:!1},{num:200,selected:!1},{num:300,selected:!1},{num:500,selected:!1},{num:1e3,selected:!1},{num:2e3,selected:!1},{num:5e3,selected:!1}]}},mounted:function(){var t=this;this.getPhoneNum(),this.timer=setInterval(function(){t.getOrder()},2e3)},destroyed:function(){clearInterval(this.timer)},methods:{back:function(){this.$router.go(-1)},getPhoneNum:function(){var t=this;Object(n.Q)({fUserId:localStorage.getItem("userId")}).then(function(e){t.phoneNum=e.data.userMobile})},setSum:function(t){this.otherSum=!0;for(var e=0;e<this.sums.length;e++)this.sums[e].selected=!1,this.sums[t].selected=!0;this.sumCount=this.sums[t].num,console.log(this.sumCount)},ensure:function(){var t=this;(setInterval(function(){t.timer},2e3),this.otherSum?this.sumMoney=this.sumCount:this.sumMoney=this.counts,console.log(this.sumMoney),0===this.sumMoney||null===this.sumMoney)?Object(u.Toast)({message:"请先选择充值金额",duration:1500}):Object(n.Y)({WIDsubject:"哼哈运动钱包充值",WIDtotal_amount:this.sumMoney}).then(function(e){if(console.log(e),"-1"===e.status)Object(u.Toast)({message:e.info,duration:1500});else{t.tradeNo=e.data.WIDout_trade_no;var s=e.data.sign;cordova.plugins.alipay.payment(s,function(t){console.log("支付成功")},function(t){console.log("支付失败"+t.resultStatus)})}})},setCount:function(){this.counts=null;for(var t=0;t<this.sums.length;t++)this.sums[t].selected=!1;this.otherSum=!1},getOrder:function(){var t=this;Object(n.c)({WIDout_trade_no:this.tradeNo}).then(function(e){"0"===e.status&&t.$router.push("/home/mine/myWallet")})}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recharge"},[n("div",{staticClass:"header"},[n("span",{staticClass:"back",on:{click:t.back}},[n("img",{staticClass:"releaseIcon",attrs:{src:s("0YUB")}})]),t._v(" "),n("span",{staticClass:"usersTitle"},[t._v("账户充值")]),t._v(" "),n("span",{staticClass:"back"})]),t._v(" "),n("div",{staticClass:"userInfo"},[n("span",[t._v(t._s(t.phoneNum))]),t._v(" "),n("br"),t._v(" "),n("span",[t._v("当前账户")])]),t._v(" "),n("div",{staticClass:"border"}),t._v(" "),n("div",{staticClass:"sum"},[n("ul",[t._l(t.sums,function(e,s){return n("li",{key:s,class:e.selected?t.selected:t.unselected,on:{click:function(e){t.setSum(s)}}},[t._v(t._s(e.num)+" 元")])}),t._v(" "),t.otherSum?n("li",{staticClass:"other",on:{click:t.setCount}},[t._v("其他金额")]):t._e()],2)]),t._v(" "),t.otherSum?t._e():n("div",{staticClass:"otherSum"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.counts,expression:"counts"}],attrs:{placeholder:"请输入其他金额",type:"tel"},domProps:{value:t.counts},on:{input:function(e){e.target.composing||(t.counts=e.target.value)}}}),t._v(" "),n("span",[t._v("元")])]),t._v(" "),n("button",{staticClass:"ensureBtn",on:{click:t.ensure}},[t._v("确认充值")])])},staticRenderFns:[]};var c=s("VU/8")(o,a,!1,function(t){s("cHot")},"data-v-4b96f9ee",null);e.default=c.exports}});
//# sourceMappingURL=45.0e4108fee2cd2fae876e.js.map