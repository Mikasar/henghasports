{"version":3,"sources":["webpack:///src/views/User/ChangePwd.vue","webpack:///./src/views/User/ChangePwd.vue?e24e","webpack:///./src/views/User/ChangePwd.vue?56f3"],"names":["ChangePwd","name","data","pwdType","content","totalTime","canClick","changeForm","account","password","verificationCode","methods","back","this","$router","go","getCode","_this","Object","getdata","fMobile","then","res","console","log","status","mint_ui_common","message","duration","catch","err","clock","window","setInterval","clearInterval","clearAccount","clearPwd","set","_this2","code","lib_default","a","stringify","fPassword","push","localStorage","removeItem","setItem","User_ChangePwd","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","attrs","src","__webpack_require__","_v","_m","directives","rawName","value","expression","type","placeholder","maxlength","domProps","input","$event","target","composing","$set","autocomplete","staticStyle","border","class","disabled","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/60.9637edf662cd7970cfc7.js","sourcesContent":["<template>\n    <div class=\"changePwd\">\n         <div class=\"header\">\n            <span @click=\"back\" class=\"back\">\n                <img src=\"../../assets/img/back.png\">\n            </span>\n            <span class=\"usersTitle\">修改密码</span>\n            <span class=\"back\"></span>\n        </div>\n        <form class=\"changeForm\">\n         <div class=\"accountAndpwd\">\n            <div class=\"account\">\n                <label>\n                    <span>手机号</span>\n                </label>\n                <input type=\"tel\" placeholder=\"请输入11位手机号码\" maxlength=\"11\" v-model=\"changeForm.account\">\n                <span class=\"clear\" @click=\"clearAccount\">\n                    <img src=\"../../assets/img/clear.png\">\n                </span>\n            </div>\n            <div class=\"verificationCode\">\n                <span>\n                    <input type=\"tel\" placeholder=\"请输入您的验证码\" maxlength=\"6\" v-model=\"changeForm.verificationCode\" autocomplete=\"tel\">\n                </span>\n                <span style=\"border: none;\">\n                    <button type=\"button\" class=\"getCode\" :class=\"{ disabled: !canClick }\" @click=\"getCode\">{{ content }}</button>\n                </span>\n            </div>\n            <div class=\"pwd\">\n                <label>\n                    <span>新密码</span>\n                </label>\n                <input type=\"password\" placeholder=\"请设置一个新密码\" v-model=\"changeForm.password\" autocomplete=\"new-password\">\n                <span class=\"clear\" @click=\"clearPwd\">\n                    <img src=\"../../assets/img/clear.png\">\n                </span>\n            </div>\n            <button type=\"button\" @click=\"set\" class=\"nextStep\">提交修改密码</button>\n          </div>\n        </form>\n    </div>\n</template>\n\n<script>\n// import { setCookie } from '../../../static/js/cookieUtil'\nimport { Toast } from 'mint-ui'\n// import axios from 'axios'\nimport { checkAccount, getCode, checkCode, resetPwd } from '../../api/getdata'\nimport Qs from 'qs'\nexport default {\n  name: 'changePwd',\n  data () {\n    return {\n      pwdType: 'password',\n      content: '获取验证码',\n      totalTime: 60,\n      canClick: true,\n      changeForm: {\n        account: '',\n        password: '',\n        verificationCode: ''\n      }\n    }\n  },\n  methods: {\n    back () {\n      this.$router.go(-1)\n    },\n    getCode () {\n      this.changeForm.verificationCode = ''\n      if (this.changeForm.account) {\n        let data = checkAccount({fMobile: this.changeForm.account})\n        data.then(res => {\n          console.log(res)\n          if (res.status === '0') {\n            Toast({\n              message: '该手机号尚未注册',\n              duration: 1500\n            })\n          } else {\n            Toast({\n              message: '验证码已发送',\n              duration: 1500\n            })\n            let data = getCode({fMobile: this.changeForm.account})\n            data.then(res => {\n              console.log(res)\n            })\n              .catch(err => {\n                console.log(err)\n              })\n            if (!this.canClick) {\n              return\n            }\n            this.canClick = false\n            this.content = '获取验证码(' + this.totalTime + 's)'\n            let clock = window.setInterval(() => {\n              this.totalTime--\n              this.content = '获取验证码(' + this.totalTime + 's)'\n              if (this.totalTime < 0) {\n                window.clearInterval(clock)\n                this.content = '重新获取验证码'\n                this.totalTime = 60\n                this.canClick = true\n              }\n            }, 1000)\n          }\n        })\n      } else {\n        Toast({\n          message: '请输入手机号',\n          duration: 1500\n        })\n      }\n    },\n    clearAccount () {\n      this.changeForm.account = ''\n    },\n    clearPwd () {\n      this.changeForm.password = ''\n    },\n    set () {\n      let data = checkCode({fMobile: this.changeForm.account, code: this.changeForm.verificationCode})\n      data.then(res => {\n        console.log(res)\n        if (res.status === '0') {\n          let data = resetPwd(Qs.stringify({\n            'fMobile': this.changeForm.account, 'fPassword': this.changeForm.password\n          }))\n          data.then(res => {\n            console.log(res)\n            if (res.status === '0') {\n              Toast({\n                message: '修改成功',\n                duration: 1500\n              })\n              this.$router.push('/home/index')\n              localStorage.removeItem('password')\n              localStorage.setItem('userState', 'isLogin')\n            } else {\n              Toast({\n                message: '修改失败，请稍后再试',\n                duration: 1500\n              })\n            }\n          })\n        } else {\n          Toast({\n            message: '修改失败，请稍后再试',\n            duration: 1500\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n * {\n    margin: 0;\n    padding: 0;\n    font-size: 0.426667rem;\n  }\n\n  .about {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n\n  .header {\n    height: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    font-size: 0.48rem;\n  }\n\n  .header span {\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n    line-height: 0.5rem;\n  }\n\n  .back {\n    height: 0.5rem;\n    width: 0.266667rem;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .changeForm {\n    width: calc(100% - 1.22667rem);\n    margin: 0 auto;\n    margin-top: 0.6rem;\n  }\n\n  .accountAndpwd {\n    width: 100%;\n  }\n\n  .accountAndpwd label{\n    width: 2rem;\n    justify-content: center;\n    display: flex;\n    align-items: center;\n    color: #ffd200;\n  }\n\n  .accountAndpwd label span {\n    vertical-align: middle;\n  }\n\n  .account input,\n  .pwd input {\n    background: transparent;\n    border: none;\n    outline: none;\n    height: 1.33333rem;\n    flex-grow: 1;\n  }\n\n  .accountAndpwd button {\n    background: #ffd200;\n    outline: none;\n    border: none;\n  }\n\n  .accountAndpwd button,\n  .account,\n  .pwd {\n    width: 100%;\n    height: 1.33333rem;\n  }\n\n  .accountAndpwd button {\n    border-radius: 0.15rem;\n  }\n\n  .verificationCode {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 0.6667rem;\n  }\n\n  .verificationCode input {\n    height: 1.3333rem;\n    background: transparent;\n    border: none;\n    outline: none;\n    color: #333333;\n    padding: 0 0.6rem 0 0.4rem;\n  }\n\n  .verificationCode span {\n    display: block;\n    width: 4.266667rem;\n    border-bottom: 1px solid #ffd200;\n  }\n\n  .disabled {\n    background: #ddd!important;\n  }\n\n  .account,\n  .pwd {\n    display: flex;\n    margin: 0.6667rem auto;\n    border-bottom: 1px solid #ffd200;\n    align-items: center;\n  }\n\n  .pwd {\n    justify-content: space-between;\n  }\n\n  .nextStep {\n    margin-top: 1.06667rem;\n    color: #fff;\n    font-size: 0.48rem;\n  }\n\n  .getCode {\n    color: #fff;\n    font-size: 0.42667rem;\n  }\n\n  .clear {\n    display: flex;\n    width: 0.56rem;\n    height: 0.56rem;\n    align-items: center;\n    justify-content: center;\n  }\n\n  input::placeholder {\n    color: #c0c0c0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User/ChangePwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"changePwd\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/back.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"usersTitle\"},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('span',{staticClass:\"back\"})]),_vm._v(\" \"),_c('form',{staticClass:\"changeForm\"},[_c('div',{staticClass:\"accountAndpwd\"},[_c('div',{staticClass:\"account\"},[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeForm.account),expression:\"changeForm.account\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入11位手机号码\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.changeForm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.changeForm, \"account\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.clearAccount}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/clear.png\")}})])]),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode\"},[_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeForm.verificationCode),expression:\"changeForm.verificationCode\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入您的验证码\",\"maxlength\":\"6\",\"autocomplete\":\"tel\"},domProps:{\"value\":(_vm.changeForm.verificationCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.changeForm, \"verificationCode\", $event.target.value)}}})]),_vm._v(\" \"),_c('span',{staticStyle:{\"border\":\"none\"}},[_c('button',{staticClass:\"getCode\",class:{ disabled: !_vm.canClick },attrs:{\"type\":\"button\"},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.content))])])]),_vm._v(\" \"),_c('div',{staticClass:\"pwd\"},[_vm._m(1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeForm.password),expression:\"changeForm.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请设置一个新密码\",\"autocomplete\":\"new-password\"},domProps:{\"value\":(_vm.changeForm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.changeForm, \"password\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.clearPwd}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/clear.png\")}})])]),_vm._v(\" \"),_c('button',{staticClass:\"nextStep\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.set}},[_vm._v(\"提交修改密码\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('span',[_vm._v(\"手机号\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('span',[_vm._v(\"新密码\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c599046\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User/ChangePwd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c599046\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChangePwd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c599046\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangePwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c599046\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User/ChangePwd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}