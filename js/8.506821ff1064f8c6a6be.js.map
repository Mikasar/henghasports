{"version":3,"sources":["webpack:///./node_modules/vue-baidu-map/components/base/mixins/common.js","webpack:///./node_modules/vue-baidu-map/components/base/factory.js","webpack:///node_modules/vue-baidu-map/components/controls/Geolocation.vue","webpack:///./node_modules/vue-baidu-map/components/base/events.js","webpack:///./node_modules/vue-baidu-map/components/base/bindEvent.js","webpack:///./node_modules/vue-baidu-map/components/base/util.js","webpack:///./node_modules/vue-baidu-map/components/controls/Geolocation.vue","webpack:///src/views/User/Myprofile.vue","webpack:///./src/views/User/Myprofile.vue?281d","webpack:///./src/views/User/Myprofile.vue?5744"],"names":["types","control","unload","layer","overlay","contextMenu","getParent","$component","abstract","$el","$children","$parent","destroyInstance","renderByParent","this","reload","__webpack_exports__","type","[object Object]","prop","methods","BMap","map","load","$emit","e","replace","$nextTick","originInstance","clearResults","dispose","clearMarkers","computed","preventChildrenRender","mounted","ready","$on","destroyed","beforeDestroy","createPoint","options","lng","lat","Point","createSize","width","height","Size","url","size","opts","Icon","anchor","imageSize","imageOffset","infoWindowAnchor","printImageUrl","name","render","mixins","Object","__WEBPACK_IMPORTED_MODULE_0__base_mixins_common_js__","props","String","offset","showAddressBar","Boolean","autoLocation","locationIcon","watch","GeolocationControl","global","enableAutoLocation","__WEBPACK_IMPORTED_MODULE_2__base_factory_js__","__WEBPACK_IMPORTED_MODULE_1__base_bindEvent_js__","call","addControl","events","baidu-map","bm-geolocation","bm-overview-map","bm-marker","bm-polyline","bm-polygon","bm-circle","bm-label","bm-info-window","bm-ground","bm-auto-complete","bm-point-collection","instance","eventList","ev","str","letter","toLowerCase","toKebabCase","$options","_componentTag","forEach","event","eventName","slice","listener","$listeners","addEventListener","fns","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_Geolocation_vue__","__webpack_require__","Component","normalizeComponent","Myprofile","data","showmap","myInfo","center","zoom","created","_this2","getdata","fUserId","localStorage","getItem","then","res","userHead","userPhoto","back","$router","go","save","_this3","lib_default","a","stringify","userId","photo","nickName","signature","userSignature","introduce","address","addRess","longitude","latitude","status","mint_ui_common","message","duration","changeHead","$refs","headImg","click","confirm","_this4","files","length","headPic","FormData","append","headers","Content-Type","console","log","fullFile","setItem","relaFile","handler","_ref","_this5","_this","Geolocation","getCurrentPosition","r","city","district","street","street_number","getLocationSuccess","getLocationError","showMap","components","BmGeolocation","User_Myprofile","_vm","_h","$createElement","_c","_self","staticClass","on","attrs","src","_v","ref","staticStyle","display","accept","change","for","directives","rawName","value","expression","maxlength","domProps","input","$event","target","composing","$set","placeholder","userType","locationSuccess","locationError","_e","disabled","staticRenderFns","ssrContext"],"mappings":"sDAAA,MAAAA,GACAC,SACAC,OAAA,iBAEAC,OACAD,OAAA,mBAEAE,SACAF,OAAA,iBAEAG,aACAH,OAAA,sBAIAI,EAAAC,KAAAC,UAAAD,EAAAE,MAAAF,EAAAG,UAAA,GAAAD,IAAAH,EAAAC,EAAAI,SAAAJ,EAEA,SAAAK,IACA,MAAAV,OAASA,EAAAW,iBAAAF,WAAgCG,KACzCD,GACAF,EAAAI,SAEAb,IA0Dec,EAAA,GAAAC,GAAA,UAtDfC,YAAAC,GACAL,KAAAM,SACAF,QACA,MAAAP,EAAAL,EAAAQ,KAAAH,SACAU,EAAAP,KAAAO,KAAAV,EAAAU,KACAC,EAAAR,KAAAQ,IAAAX,EAAAW,IACAR,KAAAS,OACAT,KAAAU,MAAA,SACAH,OACAC,SAGAJ,cAAAO,GACAX,KAAAU,MAAAC,EAAAR,KAAAS,QAAA,UAAAD,IAEAP,SACAJ,WAAAO,MAAAP,KAAAa,UAAA,KACAb,KAAAZ,SACAY,KAAAa,UAAAb,KAAAS,SAGAL,SACA,MAAAI,IAAeA,EAAAM,kBAAoBd,KACnC,IACA,OAAAK,EAAAF,MACA,aACA,OAAAW,EAAAC,eACA,mBACA,YACA,OAAAD,EAAAE,UACA,sBACA,OAAAF,EAAAG,eACA,QACAT,EAAAtB,EAAAmB,EAAAF,MAAAf,QAAA0B,IAES,MAAAH,OAGTX,KAAAkB,UACAd,iBACA,OAAAJ,KAAAH,QAAAsB,wBAGAnB,KAAAoB,QAAA,WACA,MAAAvB,EAAAL,EAAAQ,KAAAH,SACAW,EAAAX,EAAAW,KACAa,MAAaA,GAAMrB,KACnBQ,EAAAa,IAAAxB,EAAAyB,IAAA,QAAAD,IAEArB,KAAAuB,UAAAzB,EACAE,KAAAwB,cAAA1B,KAIkCK,6CChF3B,SAAAsB,EAAAlB,EAAAmB,MACP,MAAAC,IAASA,EAAAC,OAASF,EAClB,WAAAnB,EAAAsB,MAAAF,EAAAC,GAaO,SAAAE,EAAAvB,EAAAmB,MACP,MAAAK,MAASA,EAAAC,UAAcN,EACvB,WAAAnB,EAAA0B,KAAAF,EAAAC,GAjBA9B,EAAA,EAAAuB,EAAAvB,EAAA,EAAA4B,EAAA5B,EAAA,EAoBO,SAAAK,EAAAmB,MACP,MAAAQ,IAASA,EAAAC,OAAAC,WAAqBV,EAC9B,WAAAnB,EAAA8B,KAAAH,EAAAJ,EAAAvB,EAAA4B,IACAG,OAAAF,EAAAE,QAAAR,EAAAvB,EAAA6B,EAAAE,QACAC,UAAAH,EAAAG,WAAAT,EAAAvB,EAAA6B,EAAAG,WACAC,YAAAJ,EAAAI,aAAAV,EAAAvB,EAAA6B,EAAAI,aACAC,iBAAAL,EAAAK,kBAAAX,EAAAvB,EAAA6B,EAAAK,kBACAC,cAAAN,EAAAM,yGCtBAxC,EAAA,GACAyC,KAAA,iBACAC,OAFA,aAGAC,QAAAC,OAAAC,EAAA,EAAAD,CAAA,YACAE,OACAV,QACAnC,KAAA8C,QAEAC,QACA/C,KAAA2C,QAEAK,gBACAhD,KAAAiD,SAEAC,cACAlD,KAAAiD,SAEAE,cACAnD,KAAA2C,SAGAS,OACAjB,OADA,WAEAtC,KAAAC,UAEAiD,OAJA,WAKAlD,KAAAC,UAEAkD,eAPA,WAQAnD,KAAAC,UAEAoD,aAVA,WAWArD,KAAAC,UAEAqD,aAbA,WAcAtD,KAAAC,WAGAK,SACAG,KADA,WACA,IACAF,EAAAP,KAAAO,KAAAC,EAAAR,KAAAQ,IAAA8B,EAAAtC,KAAAsC,OAAAa,EAAAnD,KAAAmD,eAAAE,EAAArD,KAAAqD,aAAAC,EAAAtD,KAAAsD,aAAAJ,EAAAlD,KAAAkD,OACAlD,KAAAc,eAAA,IAAAP,EAAAiD,oBACAlB,OAAAmB,EAAAnB,GACAa,iBACAO,mBAAAL,EACAH,UAAAJ,OAAAa,EAAA,EAAAb,CAAAvC,EAAA2C,GACAI,gBAAAR,OAAAa,EAAA,EAAAb,CAAAvC,EAAA+C,KAEMM,EAAA,EAANC,KAAA7D,UAAAc,gBACAN,EAAAsD,WAAA9D,KAAAc,0ECtDe,IAAAiD,GACfC,aACA,QACA,WACA,aACA,gBACA,gBACA,YACA,YACA,WACA,YACA,SACA,UACA,YACA,UACA,aACA,aACA,gBACA,gBACA,gBACA,YACA,WACA,UACA,eACA,kBACA,OACA,SACA,eACA,cACA,aACA,cACA,aACA,YACA,WACA,aAEAC,kBACA,kBACA,iBAEAC,mBACA,cACA,gBAEAC,aACA,QACA,WACA,YACA,UACA,WACA,YACA,SACA,kBACA,iBACA,YACA,WACA,UACA,cAEAC,eACA,QACA,WACA,YACA,UACA,WACA,YACA,SACA,cAEAC,cACA,QACA,WACA,YACA,UACA,WACA,YACA,SACA,cAEAC,aACA,QACA,WACA,YACA,UACA,WACA,YACA,SACA,cAEAC,YACA,QACA,WACA,YACA,UACA,WACA,YACA,SACA,cAEAC,kBACA,QACA,OACA,WACA,UACA,cAEAC,aACA,QACA,YAEAC,oBACA,YACA,eAEAC,uBACA,QACA,YACA,uBClHezE,EAAA,WAAA0E,EAAAC,GACf,MAAAC,EAAAD,GAA0Bd,ECAnBgB,MAAAnE,QAAA,SAAAoE,OAA+DA,EAAAC,iBAAqBrE,QAAA,SDA1DsE,CAAWlF,KAAAmF,SAAAC,gBAC5CN,KAAAO,QAAAC,IACA,MACAC,EADA,OAAAD,EAAAE,MAAA,KACAF,EAAAE,MAAA,GAAAF,EACAG,EAAAzF,KAAA0F,WAAAH,GACAE,GAAAb,EAAAe,iBAAAL,EAAAG,EAAAG,2CETA,IAAAC,EAAAC,EAAA,QAcAC,EAdyBD,EAAQ,OAcjCE,CACEH,EAAA,EAVF,MAEA,EAEA,KAEA,KAEA,MAUe3F,EAAA,EAAA6F,EAAiB,kKCkChCE,GACAtD,KAAA,YACAuD,KAFA,WAGA,OACAC,SAAA,EACAC,UACAC,QAAA1E,IAAA,KAAAC,IAAA,MACA0E,KAAA,KAGAC,QAVA,WAUA,IAAAC,EAAAxG,KACA8C,OAAA2D,EAAA,EAAA3D,EAAA4D,QAAAC,aAAAC,QAAA,YACAC,KAAA,SAAAC,GAEAN,EAAAJ,OAAAU,EAAAZ,OAGAlG,KAAA+G,SAAA/G,KAAAoG,OAAAY,WAEA1G,SACA2G,KADA,WAEAjH,KAAAkH,QAAAC,IAAA,IAEAC,KAJA,WAIA,IAAAC,EAAArH,KACA8C,OAAA2D,EAAA,EAAA3D,CAAAwE,EAAAC,EAAAC,WACAC,OAAAzH,KAAAoG,OAAAqB,OAAAC,MAAAf,aAAAC,QAAA,eAAAe,SAAA3H,KAAAoG,OAAAuB,SAAAC,UAAA5H,KAAAoG,OAAAyB,cAAAC,UAAA9H,KAAAoG,OAAA0B,UAAAC,QAAA/H,KAAAoG,OAAA4B,QAAAC,UAAAjI,KAAAqG,OAAA1E,IAAAuG,SAAAlI,KAAAqG,OAAAzE,OAEAiF,KAAA,SAAAC,GACA,MAAAA,EAAAqB,SACAd,EAAAjB,OAAAY,UAAAF,EAAAZ,KACUpD,OAAAsF,EAAA,MAAAtF,EACVuF,QAAA,OACAC,SAAA,OAEAjB,EAAAH,QAAAC,IAAA,OAIAoB,WAnBA,WAoBAvI,KAAAwI,MAAAC,QAAAC,SAEAC,QAtBA,WAsBA,IAAAC,EAAA5I,KACA,OAAAA,KAAAwI,MAAAC,QAAAI,MAAAC,OAAA,CACA,IAAAC,EAAA,IAAAC,SACAD,EAAAE,OAAA,OAAAjJ,KAAAwI,MAAAC,QAAAI,MAAA,IACAE,EAAAE,OAAA,gBAMAnG,OAAA2D,EAAA,GAAA3D,CAAAiG,GAJAG,SACAC,eAAA,yBAIAtC,KAAA,SAAAC,GACAsC,QAAAC,IAAAvC,GACA8B,EAAAxC,OAAAY,UAAAF,EAAAZ,KAAAoD,SACA3C,aAAA4C,QAAA,cAAAzC,EAAAZ,KAAAsD,cAIAC,QAxCA,SAAAC,GAwCA,IAAAC,EAAA3J,KAAAO,EAAAmJ,EAAAnJ,KACAqJ,GADAF,EAAAlJ,IACAR,OACA,IAAAO,EAAAsJ,aACAC,mBAAA,SAAAC,GAEA,IAAAhC,EAAAgC,EAAAhC,QAAAiC,KAAAD,EAAAhC,QAAAkC,SAAAF,EAAAhC,QAAAmC,OAAAH,EAAAhC,QAAAoC,cACAf,QAAAC,IAAAtB,GACA4B,EAAAvD,OAAA4B,QAAAD,EACA6B,EAAAvD,QAAA1E,IAAAoI,EAAA9B,UAAArG,IAAAmI,EAAA7B,UACAyB,EAAAtD,OAAAuD,EAAAvD,OACA+C,QAAAC,IAAAM,EAAAtD,WAGA+D,mBArDA,WAsDAhB,QAAAC,IAAA,aAEAgB,iBAxDA,WAyDAjB,QAAAC,IAAA,UAEAiB,QA3DA,WA4DAtK,KAAAmG,SAAA,IAGAoE,YACAC,wBAAA,ICzIeC,GADE7H,OAFjB,WAA0B,IAAA8H,EAAA1K,KAAa2K,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAaE,YAAA,OAAAC,IAAuBtC,MAAAgC,EAAAzD,QAAkB4D,EAAA,OAAYE,YAAA,cAAAE,OAAiCC,IAAMpF,EAAQ,aAA8B4E,EAAAS,GAAA,KAAAN,EAAA,QAA2BE,YAAA,eAAyBL,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,QAA0CE,YAAA,SAAmBL,EAAAS,GAAA,KAAAN,EAAA,QAAyBE,YAAA,OAAAC,IAAuBtC,MAAAgC,EAAAtD,QAAkBsD,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAyCE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,OAAYI,OAAOC,IAAAR,EAAAtE,OAAAY,eAA4B0D,EAAAS,GAAA,KAAAN,EAAA,SAA4BE,YAAA,YAAAC,IAA4BtC,MAAAgC,EAAAnC,cAAwBmC,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,SAA2CO,IAAA,UAAAC,aAA2BC,QAAA,QAAiBL,OAAQ9K,KAAA,OAAAoL,OAAA,WAAiCP,IAAKQ,OAAAd,EAAA/B,aAAsB+B,EAAAS,GAAA,KAAAN,EAAA,OAA0BE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,SAAcI,OAAOQ,IAAA,WAAef,EAAAS,GAAA,QAAAT,EAAAS,GAAA,KAAAN,EAAA,SAAyCa,aAAa/I,KAAA,QAAAgJ,QAAA,UAAAC,MAAAlB,EAAAtE,OAAA,SAAAyF,WAAA,oBAAwFd,YAAA,cAAAE,OAAmCtI,KAAA,QAAAxC,KAAA,OAAA2L,UAAA,MAA8CC,UAAWH,MAAAlB,EAAAtE,OAAA,UAA8B4E,IAAKgB,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAtE,OAAA,WAAA6F,EAAAC,OAAAN,WAAwDlB,EAAAS,GAAA,KAAAN,EAAA,QAAyBE,YAAA,iBAA2BL,EAAAS,GAAA,4BAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA2DE,YAAA,QAAkBF,EAAA,SAAcI,OAAOQ,IAAA,UAAcf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,SAA2Ca,aAAa/I,KAAA,QAAAgJ,QAAA,UAAAC,MAAAlB,EAAAtE,OAAA,cAAAyF,WAAA,yBAAkGd,YAAA,cAAAE,OAAmCtI,KAAA,OAAA0J,YAAA,cAAAlM,KAAA,OAAA2L,UAAA,MAAyEC,UAAWH,MAAAlB,EAAAtE,OAAA,eAAmC4E,IAAKgB,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAtE,OAAA,gBAAA6F,EAAAC,OAAAN,WAA6DlB,EAAAS,GAAA,KAAAN,EAAA,QAAyBE,YAAA,gBAA0BL,EAAAS,GAAA,6BAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA4Da,aAAa/I,KAAA,OAAAgJ,QAAA,SAAAC,MAAA,MAAAlB,EAAAtE,OAAAkG,SAAAT,WAAA,4BAAsGd,YAAA,QAAoBF,EAAA,SAAcI,OAAOQ,IAAA,UAAcf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,SAA2Ca,aAAa/I,KAAA,QAAAgJ,QAAA,UAAAC,MAAAlB,EAAAtE,OAAA,UAAAyF,WAAA,qBAA0Fd,YAAA,cAAAE,OAAmCtI,KAAA,OAAA0J,YAAA,eAAAlM,KAAA,QAAyD4L,UAAWH,MAAAlB,EAAAtE,OAAA,WAA+B4E,IAAKgB,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAtE,OAAA,YAAA6F,EAAAC,OAAAN,aAAyDlB,EAAAS,GAAA,KAAAN,EAAA,OAA0BE,YAAA,QAAkBF,EAAA,SAAcI,OAAOQ,IAAA,UAAcf,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,SAA2Ca,aAAa/I,KAAA,QAAAgJ,QAAA,UAAAC,MAAAlB,EAAAtE,OAAA,QAAAyF,WAAA,mBAAsFd,YAAA,cAAAE,OAAmCtI,KAAA,OAAA0J,YAAA,gBAAAlM,KAAA,QAA0D4L,UAAWH,MAAAlB,EAAAtE,OAAA,SAA6B4E,IAAKtC,MAAAgC,EAAAJ,QAAA0B,MAAA,SAAAC,GAA6CA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAtE,OAAA,UAAA6F,EAAAC,OAAAN,aAAuDlB,EAAAS,GAAA,KAAAT,EAAA,QAAAG,EAAA,aAA8CE,YAAA,UAAAE,OAA6B5E,OAAAqE,EAAArE,OAAAC,KAAAoE,EAAApE,MAAoC0E,IAAK3J,MAAAqJ,EAAAjB,WAAqBoB,EAAA,kBAAuBI,OAAO3I,OAAA,2BAAAa,gBAAA,EAAAE,cAAA,GAA8E2H,IAAKuB,gBAAA7B,EAAAN,mBAAAoC,cAAA9B,EAAAL,qBAA+E,GAAAK,EAAA+B,KAAA/B,EAAAS,GAAA,KAAAN,EAAA,OAAqCE,YAAA,QAAkBF,EAAA,SAAcI,OAAOQ,IAAA,UAAcf,EAAAS,GAAA,WAAAT,EAAAS,GAAA,KAAAN,EAAA,SAA4Ca,aAAa/I,KAAA,QAAAgJ,QAAA,UAAAC,MAAAlB,EAAAtE,OAAA,eAAAyF,WAAA,0BAAoGd,YAAA,cAAAE,OAAmCtI,KAAA,OAAAxC,KAAA,OAAAuM,SAAA,IAA0CX,UAAWH,MAAAlB,EAAAtE,OAAA,gBAAoC4E,IAAKgB,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCzB,EAAA0B,KAAA1B,EAAAtE,OAAA,iBAAA6F,EAAAC,OAAAN,cAA8D,MAE53He,oBCCjB,IAcA5G,EAdyBD,EAAQ,OAcjCE,CACEC,EACAwE,GATF,EAVA,SAAAmC,GACE9G,EAAQ,SAaV,kBAEA,MAUe5F,EAAA,QAAA6F,EAAiB","file":"js/8.506821ff1064f8c6a6be.js","sourcesContent":["const types = {\n  control: {\n    unload: 'removeControl'\n  },\n  layer: {\n    unload: 'removeTileLayer'\n  },\n  overlay: {\n    unload: 'removeOverlay'\n  },\n  contextMenu: {\n    unload: 'removeContextMenu'\n  }\n}\n\nconst getParent = $component => ($component.abstract || $component.$el === $component.$children[0].$el) ? getParent($component.$parent) : $component\n\nfunction destroyInstance () {\n  const {unload, renderByParent, $parent} = this\n  if (renderByParent) {\n    $parent.reload()\n  }\n  unload()\n}\n\nclass Mixin {\n  constructor (prop) {\n    this.methods = {\n      ready () {\n        const $parent = getParent(this.$parent)\n        const BMap = this.BMap = $parent.BMap\n        const map = this.map = $parent.map\n        this.load()\n        this.$emit('ready', {\n          BMap,\n          map\n        })\n      },\n      transmitEvent (e) {\n        this.$emit(e.type.replace(/^on/, ''), e)\n      },\n      reload () {\n        this && this.BMap && this.$nextTick(() => {\n          this.unload()\n          this.$nextTick(this.load)\n        })\n      },\n      unload () {\n        const {map, originInstance} = this\n        try {\n          switch (prop.type) {\n            case 'search':\n              return originInstance.clearResults()\n            case 'autoComplete':\n            case 'lushu':\n              return originInstance.dispose()\n            case 'markerClusterer':\n              return originInstance.clearMarkers()\n            default:\n              map[types[prop.type].unload](originInstance)\n          }\n        } catch (e) {}\n      }\n    }\n    this.computed = {\n      renderByParent () {\n        return this.$parent.preventChildrenRender\n      }\n    }\n    this.mounted = function () {\n      const $parent = getParent(this.$parent)\n      const map = $parent.map\n      const {ready} = this\n      map ? ready() : $parent.$on('ready', ready)\n    }\n    this.destroyed = destroyInstance\n    this.beforeDestroy = destroyInstance\n  }\n}\n\nexport default type => new Mixin({type})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/base/mixins/common.js\n// module id = 9LO+\n// module chunks = 4 8","export function createPoint (BMap, options = {}) {\n  const {lng, lat} = options\n  return new BMap.Point(lng, lat)\n}\n\nexport function createPixel (BMap, options = {}) {\n  const {x, y} = options\n  return new BMap.Pixel(x, y)\n}\n\nexport function createBounds (BMap, options = {}) {\n  const {sw, ne} = options\n  return new BMap.Bounds(createPoint(BMap, sw), createPoint(BMap, ne))\n}\n\nexport function createSize (BMap, options = {}) {\n  const {width, height} = options\n  return new BMap.Size(width, height)\n}\n\nexport function createIcon (BMap, options = {}) {\n  const {url, size, opts = {}} = options\n  return new BMap.Icon(url, createSize(BMap, size), {\n    anchor: opts.anchor && createSize(BMap, opts.anchor),\n    imageSize: opts.imageSize && createSize(BMap, opts.imageSize),\n    imageOffset: opts.imageOffset && createSize(BMap, opts.imageOffset),\n    infoWindowAnchor: opts.infoWindowAnchor && createSize(BMap, opts.infoWindowAnchor),\n    printImageUrl: opts.printImageUrl\n  })\n}\n\nexport function createLabel (BMap, options = {}) {\n  const {content, opts} = options\n  return new BMap.Label(content, {\n    offset: opts.offset && createSize(BMap, opts.offset),\n    position: opts.position && createPoint(BMap, opts.position),\n    enableMassClear: opts.enableMassClear\n  })\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/base/factory.js\n// module id = Brla\n// module chunks = 4 8","<script>\nimport commonMixin from '../base/mixins/common.js'\nimport bindEvents from '../base/bindEvent.js'\nimport {createIcon, createSize} from '../base/factory.js'\n\nexport default {\n  name: 'bm-geolocation',\n  render () {},\n  mixins: [commonMixin('control')],\n  props: {\n    anchor: {\n      type: String\n    },\n    offset: {\n      type: Object\n    },\n    showAddressBar: {\n      type: Boolean\n    },\n    autoLocation: {\n      type: Boolean\n    },\n    locationIcon: {\n      type: Object\n    }\n  },\n  watch: {\n    anchor () {\n      this.reload()\n    },\n    offset () {\n      this.reload()\n    },\n    showAddressBar () {\n      this.reload()\n    },\n    autoLocation () {\n      this.reload()\n    },\n    locationIcon () {\n      this.reload()\n    }\n  },\n  methods: {\n    load () {\n      const {BMap, map, anchor, showAddressBar, autoLocation, locationIcon, offset} = this\n      this.originInstance = new BMap.GeolocationControl({\n        anchor: global[anchor],\n        showAddressBar,\n        enableAutoLocation: autoLocation,\n        offset: offset && createSize(BMap, offset),\n        locationIcon: locationIcon && createIcon(BMap, locationIcon)\n      })\n      bindEvents.call(this, this.originInstance)\n      map.addControl(this.originInstance)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-baidu-map/components/controls/Geolocation.vue","export default {\n  'baidu-map': [\n    'click',\n    'dblclick',\n    'rightclick',\n    'rightdblclick',\n    'maptypechange',\n    'mousemove',\n    'mouseover',\n    'mouseout',\n    'movestart',\n    'moving',\n    'moveend',\n    'zoomstart',\n    'zoomend',\n    'addoverlay',\n    'addcontrol',\n    'removecontrol',\n    'removeoverlay',\n    'clearoverlays',\n    'dragstart',\n    'dragging',\n    'dragend',\n    'addtilelayer',\n    'removetilelayer',\n    'load',\n    'resize',\n    'hotspotclick',\n    'hotspotover',\n    'hotspotout',\n    'tilesloaded',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'longpress'\n  ],\n  'bm-geolocation': [\n    'locationSuccess',\n    'locationError'\n  ],\n  'bm-overview-map': [\n    'viewchanged',\n    'viewchanging'\n  ],\n  'bm-marker': [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseout',\n    'mouseover',\n    'remove',\n    'infowindowclose',\n    'infowindowopen',\n    'dragstart',\n    'dragging',\n    'dragend',\n    'rightclick'\n  ],\n  'bm-polyline': [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseout',\n    'mouseover',\n    'remove',\n    'lineupdate'\n  ],\n  'bm-polygon': [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseout',\n    'mouseover',\n    'remove',\n    'lineupdate'\n  ],\n  'bm-circle': [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseout',\n    'mouseover',\n    'remove',\n    'lineupdate'\n  ],\n  'bm-label': [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseout',\n    'mouseover',\n    'remove',\n    'rightclick'\n  ],\n  'bm-info-window': [\n    'close',\n    'open',\n    'maximize',\n    'restore',\n    'clickclose'\n  ],\n  'bm-ground': [\n    'click',\n    'dblclick'\n  ],\n  'bm-auto-complete': [\n    'onconfirm',\n    'onhighlight'\n  ],\n  'bm-point-collection': [\n    'click',\n    'mouseover',\n    'mouseout'\n  ]\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/base/events.js\n// module id = null\n// module chunks = ","import events from './events.js'\nimport {toKebabCase} from './util.js'\n\nexport default function (instance, eventList) {\n  const ev = eventList || events[toKebabCase(this.$options._componentTag)]\n  ev && ev.forEach(event => {\n    const hasOn = event.slice(0, 2) === 'on'\n    const eventName = hasOn ? event.slice(2) : event\n    const listener = this.$listeners[eventName]\n    listener && instance.addEventListener(event, listener.fns)\n  })\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/base/bindEvent.js\n// module id = null\n// module chunks = ","import {createPoint} from './factory'\n\nexport const isPoint = obj => obj.lng && obj.lat\nexport const checkType = val => Object.prototype.toString.call(val).slice(8, -1)\nexport const toKebabCase = str => str.replace(/[A-Z]/g, letter => `-${letter.toLowerCase()}`).replace(/^-/, '')\n\nexport const getPosition = (BMap, point) => isPoint(point) ? createPoint(BMap, point) : point\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/base/util.js\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./Geolocation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../vue-loader/lib/selector?type=script&index=0!./Geolocation.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-baidu-map/components/controls/Geolocation.vue\n// module id = OpxV\n// module chunks = 4 8","<template>\n    <div class=\"myProfile\">\n        <div class=\"header\">\n            <span @click=\"back\" class=\"back\">\n                <img src=\"../../assets/img/back.png\" class=\"releaseIcon\">\n            </span>\n            <span class=\"usersTitle\">个人资料</span>\n            <span class=\"back\"></span>\n            <span class=\"keep\" @click=\"save\">保存</span>\n        </div>\n        <div class=\"content\">\n            <div class=\"headPic\">\n                <img :src=\"myInfo.userPhoto\">\n            </div>\n            <label class=\"changeImg\" @click=\"changeHead\">修改头像</label>\n            <input type=\"file\" accept=\"image/*\" style=\"display: none;\" ref=\"headImg\" @change=\"confirm\">\n        </div>\n        <div class=\"profiles\">\n            <div class=\"row\">\n                <label for=\"fName\">昵称</label>\n                <input name=\"fName\" class=\"profileText\" v-model=\"myInfo.nickName\" type=\"text\" maxlength=\"15\">\n                <span class=\"detail fName\">2-15个字符，可包含中英文、数字、符号</span>\n            </div>\n            <div class=\"row\">\n                <label for=\"sign\">个性签名</label>\n                <input name=\"sign\" class=\"profileText\" v-model=\"myInfo.userSignature\" placeholder=\"您还没有设置个人签名！\" type=\"text\" maxlength=\"15\">\n                <span class=\"detail sign\">最多输入15字符，可包含中英文、数字、符号</span>\n            </div>\n            <div class=\"row\" v-show=\"myInfo.userType !== 'C'\">\n                <label for=\"sign\">基本介绍</label>\n                <input name=\"sign\" class=\"profileText\" v-model=\"myInfo.introduce\" placeholder=\"向大家简单介绍下自己吧！\" type=\"text\">\n            </div>\n            <div class=\"row\">\n                <label for=\"sign\">详细地址</label>\n                <input name=\"sign\" class=\"profileText\" v-model=\"myInfo.addRess\" placeholder=\"您还没有设置您的常用地址！\" type=\"text\" @click=\"showMap\">\n            </div>\n            <baidu-map class=\"bm-view\" :center=\"center\" :zoom=\"zoom\" @ready=\"handler\" v-if=\"showmap\">\n                <bm-geolocation\n                  anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\"\n                  :showAddressBar=\"true\"\n                  :autoLocation=\"true\"\n                  @locationSuccess=\"getLocationSuccess\"\n                  @locationError=\"getLocationError\"></bm-geolocation>\n            </baidu-map>\n            <div class=\"row\">\n                <label for=\"sign\">您的邀请码</label>\n                <input name=\"sign\" class=\"profileText\" v-model=\"myInfo.invitationCode\" type=\"text\" disabled>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getUserInfo, editInfo, uploadImg } from '../../api/getdata'\nimport { Toast } from 'mint-ui'\nimport Qs from 'qs'\nimport BmGeolocation from 'vue-baidu-map/components/controls/Geolocation.vue'\nexport default {\n  name: 'Myprofile',\n  data () {\n    return {\n      showmap: false,\n      myInfo: {},\n      center: {lng: null, lat: null},\n      zoom: 15\n    }\n  },\n  created () {\n    let data = getUserInfo({fUserId: localStorage.getItem('userId')})\n    data.then(res => {\n      // console.log(res)\n      this.myInfo = res.data\n      // console.log(this.myInfo)\n    })\n    this.userHead = this.myInfo.userPhoto\n  },\n  methods: {\n    back () {\n      this.$router.go(-1)\n    },\n    save () {\n      let data = editInfo(Qs.stringify({\n        'userId': this.myInfo.userId, 'photo': localStorage.getItem('userHeadPic'), 'nickName': this.myInfo.nickName, 'signature': this.myInfo.userSignature, 'introduce': this.myInfo.introduce, 'address': this.myInfo.addRess, 'longitude': this.center.lng, 'latitude': this.center.lat\n      }))\n      data.then(res => {\n        if (res.status === '0') {\n          this.myInfo.userPhoto = res.data\n          Toast({\n            message: '更改成功',\n            duration: 1500\n          })\n          this.$router.go(-1)\n        }\n      })\n    },\n    changeHead () {\n      this.$refs.headImg.click()\n    },\n    confirm () {\n      if (this.$refs.headImg.files.length !== 0) {\n        let headPic = new FormData()\n        headPic.append('file', this.$refs.headImg.files[0])\n        headPic.append('scene', 'user')\n        let config = {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n        let data = uploadImg(headPic, config)\n        data.then(res => {\n          console.log(res)\n          this.myInfo.userPhoto = res.data.fullFile\n          localStorage.setItem('userHeadPic', res.data.relaFile)\n        })\n      }\n    },\n    handler ({BMap, map}) {\n      let _this = this\n      var geolocation = new BMap.Geolocation()\n      geolocation.getCurrentPosition(r => {\n        // console.log(r.address)\n        var address = r.address.city + r.address.district + r.address.street + r.address.street_number\n        console.log(address)\n        this.myInfo.addRess = address\n        _this.center = {lng: r.longitude, lat: r.latitude}\n        this.center = _this.center\n        console.log(this.center)\n      })\n    },\n    getLocationSuccess () {\n      console.log('succsess')\n    },\n    getLocationError () {\n      console.log('error')\n    },\n    showMap () {\n      this.showmap = true\n    }\n  },\n  components: {\n    BmGeolocation\n  }\n}\n</script>\n\n<style scoped>\n  * {\n    margin: 0;\n    padding: 0;\n    font-size: 0.48rem;\n  }\n\n  .header {\n    width: 100%;\n    height: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: #fff;\n    z-index: 99;\n  }\n\n  .content {\n    margin-top: 1.5rem;\n    padding-top: 0.2rem;\n    padding-bottom: 0.7733rem;\n    border-bottom: 0.1rem solid #f5f5f5;\n  }\n  .header span {\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n    line-height: 0.5rem;\n  }\n\n  .back {\n    height: 0.5rem;\n    width: 0.266667rem;\n  }\n\n  .releaseIcon {\n    width: 100%;\n  }\n\n  .headPic {\n    width: 1.86667rem;\n    height: 1.86667rem;\n    margin: 0 auto;\n    border-radius: 50%;\n    overflow: hidden;\n    background: #fff;\n  }\n\n  .headPic img {\n    border-radius: 0.93333rem;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .changeImg {\n    display: inline-block;\n    margin-top: 0.48rem;\n    font-size: 0.426667rem;\n    margin-left: 0.1rem;\n  }\n\n  .keep {\n    position: absolute;\n    right: 0;\n  }\n\n  .row {\n    width: calc(100% - 0.6rem);\n    margin: 0 auto;\n    display: flex;\n    justify-content: flex-start;\n    padding: 0.5333rem 0 0.633rem 0;\n    border-bottom: 1px solid #f5f5f5;\n    position: relative;\n  }\n\n  .row label {\n    color: #666666;\n    font-size: 0.426667rem;\n  }\n\n  .profileText {\n    border: none;\n    outline: none;\n    margin-left: 0.64rem;\n    flex-grow: 1;\n    font-size: 0.426667rem;\n    color: #333333;\n  }\n\n  .detail {\n    position: absolute;\n    font-size: 0.346667rem;\n    color: #b0b0b0;\n    display: flex;\n    align-items: center;\n    bottom: 0.06rem;\n  }\n\n  .fName {\n    left: 1.52rem;\n  }\n  .sign {\n    left: 2.3rem;\n  }\n\n  input::placeholder {\n    color: #333333;\n  }\n\n  .bm-view {\n    width: calc(100% - 0.8rem);\n    height: 4rem;\n    margin: 2rem auto;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User/Myprofile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myProfile\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('img',{staticClass:\"releaseIcon\",attrs:{\"src\":require(\"../../assets/img/back.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"usersTitle\"},[_vm._v(\"个人资料\")]),_vm._v(\" \"),_c('span',{staticClass:\"back\"}),_vm._v(\" \"),_c('span',{staticClass:\"keep\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"headPic\"},[_c('img',{attrs:{\"src\":_vm.myInfo.userPhoto}})]),_vm._v(\" \"),_c('label',{staticClass:\"changeImg\",on:{\"click\":_vm.changeHead}},[_vm._v(\"修改头像\")]),_vm._v(\" \"),_c('input',{ref:\"headImg\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.confirm}})]),_vm._v(\" \"),_c('div',{staticClass:\"profiles\"},[_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"fName\"}},[_vm._v(\"昵称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myInfo.nickName),expression:\"myInfo.nickName\"}],staticClass:\"profileText\",attrs:{\"name\":\"fName\",\"type\":\"text\",\"maxlength\":\"15\"},domProps:{\"value\":(_vm.myInfo.nickName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.myInfo, \"nickName\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"detail fName\"},[_vm._v(\"2-15个字符，可包含中英文、数字、符号\")])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"sign\"}},[_vm._v(\"个性签名\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myInfo.userSignature),expression:\"myInfo.userSignature\"}],staticClass:\"profileText\",attrs:{\"name\":\"sign\",\"placeholder\":\"您还没有设置个人签名！\",\"type\":\"text\",\"maxlength\":\"15\"},domProps:{\"value\":(_vm.myInfo.userSignature)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.myInfo, \"userSignature\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"detail sign\"},[_vm._v(\"最多输入15字符，可包含中英文、数字、符号\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.myInfo.userType !== 'C'),expression:\"myInfo.userType !== 'C'\"}],staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"sign\"}},[_vm._v(\"基本介绍\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myInfo.introduce),expression:\"myInfo.introduce\"}],staticClass:\"profileText\",attrs:{\"name\":\"sign\",\"placeholder\":\"向大家简单介绍下自己吧！\",\"type\":\"text\"},domProps:{\"value\":(_vm.myInfo.introduce)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.myInfo, \"introduce\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"sign\"}},[_vm._v(\"详细地址\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myInfo.addRess),expression:\"myInfo.addRess\"}],staticClass:\"profileText\",attrs:{\"name\":\"sign\",\"placeholder\":\"您还没有设置您的常用地址！\",\"type\":\"text\"},domProps:{\"value\":(_vm.myInfo.addRess)},on:{\"click\":_vm.showMap,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.myInfo, \"addRess\", $event.target.value)}}})]),_vm._v(\" \"),(_vm.showmap)?_c('baidu-map',{staticClass:\"bm-view\",attrs:{\"center\":_vm.center,\"zoom\":_vm.zoom},on:{\"ready\":_vm.handler}},[_c('bm-geolocation',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\",\"showAddressBar\":true,\"autoLocation\":true},on:{\"locationSuccess\":_vm.getLocationSuccess,\"locationError\":_vm.getLocationError}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"sign\"}},[_vm._v(\"您的邀请码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myInfo.invitationCode),expression:\"myInfo.invitationCode\"}],staticClass:\"profileText\",attrs:{\"name\":\"sign\",\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.myInfo.invitationCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.myInfo, \"invitationCode\", $event.target.value)}}})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-89d357e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User/Myprofile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-89d357e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Myprofile.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Myprofile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Myprofile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89d357e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Myprofile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-89d357e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User/Myprofile.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}