webpackJsonp([60],{QAvx:function(t,e){},wGdr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Au9i"),n=a("tlGt"),c=a("mw3O"),s=a.n(c),i={name:"changePwd",data:function(){return{pwdType:"password",content:"获取验证码",totalTime:60,canClick:!0,changeForm:{account:"",password:"",verificationCode:""}}},methods:{back:function(){this.$router.go(-1)},getCode:function(){var t=this;(this.changeForm.verificationCode="",this.changeForm.account)?Object(n.b)({fMobile:this.changeForm.account}).then(function(e){if(console.log(e),"0"===e.status)Object(o.Toast)({message:"该手机号尚未注册",duration:1500});else{if(Object(o.Toast)({message:"验证码已发送",duration:1500}),Object(n.r)({fMobile:t.changeForm.account}).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),!t.canClick)return;t.canClick=!1,t.content="获取验证码("+t.totalTime+"s)";var a=window.setInterval(function(){t.totalTime--,t.content="获取验证码("+t.totalTime+"s)",t.totalTime<0&&(window.clearInterval(a),t.content="重新获取验证码",t.totalTime=60,t.canClick=!0)},1e3)}}):Object(o.Toast)({message:"请输入手机号",duration:1500})},clearAccount:function(){this.changeForm.account=""},clearPwd:function(){this.changeForm.password=""},set:function(){var t=this;Object(n.e)({fMobile:this.changeForm.account,code:this.changeForm.verificationCode}).then(function(e){(console.log(e),"0"===e.status)?Object(n._0)(s.a.stringify({fMobile:t.changeForm.account,fPassword:t.changeForm.password})).then(function(e){console.log(e),"0"===e.status?(Object(o.Toast)({message:"修改成功",duration:1500}),t.$router.push("/home/index"),localStorage.removeItem("password"),localStorage.setItem("userState","isLogin")):Object(o.Toast)({message:"修改失败，请稍后再试",duration:1500})}):Object(o.Toast)({message:"修改失败，请稍后再试",duration:1500})})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"changePwd"},[o("div",{staticClass:"header"},[o("span",{staticClass:"back",on:{click:t.back}},[o("img",{attrs:{src:a("0YUB")}})]),t._v(" "),o("span",{staticClass:"usersTitle"},[t._v("修改密码")]),t._v(" "),o("span",{staticClass:"back"})]),t._v(" "),o("form",{staticClass:"changeForm"},[o("div",{staticClass:"accountAndpwd"},[o("div",{staticClass:"account"},[t._m(0),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.changeForm.account,expression:"changeForm.account"}],attrs:{type:"tel",placeholder:"请输入11位手机号码",maxlength:"11"},domProps:{value:t.changeForm.account},on:{input:function(e){e.target.composing||t.$set(t.changeForm,"account",e.target.value)}}}),t._v(" "),o("span",{staticClass:"clear",on:{click:t.clearAccount}},[o("img",{attrs:{src:a("Pldz")}})])]),t._v(" "),o("div",{staticClass:"verificationCode"},[o("span",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.changeForm.verificationCode,expression:"changeForm.verificationCode"}],attrs:{type:"tel",placeholder:"请输入您的验证码",maxlength:"6",autocomplete:"tel"},domProps:{value:t.changeForm.verificationCode},on:{input:function(e){e.target.composing||t.$set(t.changeForm,"verificationCode",e.target.value)}}})]),t._v(" "),o("span",{staticStyle:{border:"none"}},[o("button",{staticClass:"getCode",class:{disabled:!t.canClick},attrs:{type:"button"},on:{click:t.getCode}},[t._v(t._s(t.content))])])]),t._v(" "),o("div",{staticClass:"pwd"},[t._m(1),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.changeForm.password,expression:"changeForm.password"}],attrs:{type:"password",placeholder:"请设置一个新密码",autocomplete:"new-password"},domProps:{value:t.changeForm.password},on:{input:function(e){e.target.composing||t.$set(t.changeForm,"password",e.target.value)}}}),t._v(" "),o("span",{staticClass:"clear",on:{click:t.clearPwd}},[o("img",{attrs:{src:a("Pldz")}})])]),t._v(" "),o("button",{staticClass:"nextStep",attrs:{type:"button"},on:{click:t.set}},[t._v("提交修改密码")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",[this._v("手机号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",[this._v("新密码")])])}]};var l=a("VU/8")(i,r,!1,function(t){a("QAvx")},"data-v-0c599046",null);e.default=l.exports}});
//# sourceMappingURL=60.9637edf662cd7970cfc7.js.map