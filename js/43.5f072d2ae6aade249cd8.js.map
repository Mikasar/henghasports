{"version":3,"sources":["webpack:///src/views/User/Myvideo.vue","webpack:///./src/views/User/Myvideo.vue?de0c","webpack:///./src/views/User/Myvideo.vue?8147"],"names":["Myvideo","name","data","videos","mounted","this","getVideoList","console","log","popupItem","$el","directives","ClickOutside","vue_click_outside_default","a","methods","back","$router","go","upload","push","_this","Object","getdata","then","res","i","length","$set","play","index","store","commit","showDeleteBtn","_this2","clearInterval","Loop","setTimeout","isDeleting","clearLoop","clickDelFloor","_this3","fVideoId","videoId","status","mint_ui_common","message","duration","splice","hideBtn","User_Myvideo","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","attrs","src","__webpack_require__","_v","rawName","value","expression","_l","video","key","$event","touchstart","touchend","fVideoCoverImgUrl","_s","fVideoName","fVideoNote","fIsOpen","_e","stopPropagation","ref","refInFor","staticStyle","display","clear","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/43.5f072d2ae6aade249cd8.js","sourcesContent":["<template>\n    <div class=\"myVideo\">\n        <div class=\"header\">\n            <span @click=\"back\" class=\"back\">\n                <img src=\"../../assets/img/back.png\" class=\"releaseIcon\">\n            </span>\n            <span class=\"usersTitle\">教学视频</span>\n            <span class=\"back\"></span>\n            <span class=\"upload\" @click=\"upload\">上传</span>\n        </div>\n        <div class=\"content\">\n            <div class=\"notice\" v-show=\"videos.length === 0\">您还没有任何教学视频，快去上传吧！</div>\n            <ul class=\"videos\">\n                <li class=\"video\" v-for=\"(video, index) in videos\" :key=\"index\" @click=\"play(index)\"  @touchstart=\"showDeleteBtn(index)\" @touchend=\"clearLoop(index)\">\n                    <img :src=\"video.fVideoCoverImgUrl\" class=\"videoCover\">\n                    <span class=\"videoTitle\">{{ video.fVideoName }}</span>\n                    <span class=\"videoDescription\">{{ video.fVideoNote}}</span>\n                    <div class=\"symbol\" v-if=\"video.fIsOpen === '1'\">收费</div>\n                    <div class=\"btnCover\" v-if=\"video.isDeleting\" @click.stop=\"hideBtn(index)\"></div>\n                    <button v-click-outside=\"hideBtn\" class=\"deleteBtn\" @click.stop=\"clickDelFloor(index)\" v-if=\"video.isDeleting\" ref=\"deleteBtns\">删除</button>\n                </li>\n                <li style=\"display: block;clear: both;\"></li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getVideoList, deleteVideo } from '../../api/getdata'\nimport store from '../../vuex/store'\nimport ClickOutside from 'vue-click-outside'\nimport { Toast } from 'mint-ui'\nexport default {\n  name: 'myVideo',\n  data () {\n    return {\n      videos: []\n    }\n  },\n  mounted () {\n    this.getVideoList()\n    console.log(this.videos)\n    this.popupItem = this.$el\n  },\n  directives: {\n    ClickOutside\n  },\n  methods: {\n    back () {\n      this.$router.go(-1)\n    },\n    upload () {\n      this.$router.push('/home/mine/uploadVideo')\n    },\n    getVideoList () {\n      getVideoList().then(res => {\n        console.log(res.data)\n        this.videos = res.data\n        for (let i = 0; i < this.videos.length; i++) {\n          this.$set(this.videos[i], 'isDeleting', false)\n        }\n      })\n    },\n    play (index) {\n      store.commit('getVideoInfo', this.videos[index])\n      this.$router.push('/home/mine/videoPlayer')\n    },\n    showDeleteBtn (index) {\n      clearInterval(this.Loop)\n      this.Loop = setTimeout(() => {\n        this.videos[index].isDeleting = true\n      }, 1000)\n    },\n    clearLoop () {\n      clearInterval(this.Loop)\n    },\n    clickDelFloor (index) {\n      console.log(this.videos[index].fVideoId)\n      let data = deleteVideo({videoId: this.videos[index].fVideoId})\n      data.then(res => {\n        console.log(res)\n        if (res.status === '0') {\n          Toast({\n            message: '删除成功',\n            duration: 1000\n          })\n          this.videos.splice(index, 1)\n          this.videos[index].isDeleting = false\n        }\n      })\n    },\n    hideBtn (index) {\n      this.videos[index].isDeleting = false\n    }\n  }\n}\n</script>\n\n<style scoped>\n  * {\n    margin: 0;\n    padding: 0;\n    color: #333333;\n    font-size: 0.48rem;\n  }\n\n  .header {\n    height: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    position: fixed;\n    font-size: 0.48rem;\n    top: 0;\n    left: 0;\n    width: 100%;\n    background: #fff;\n    z-index: 999;\n  }\n\n  .header span {\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n    line-height: 0.5rem;\n  }\n\n  .back {\n    height: 0.5rem;\n    width: 0.266667rem;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  .upload {\n    position: absolute;\n    right: 0;\n  }\n\n  .content {\n    width: calc(100% - 0.8rem);\n    margin: 0 auto;\n    margin-top: 1.5rem;\n  }\n\n  .videos {\n    width: 100%;\n    list-style: none;\n  }\n\n  .video {\n    display: block;\n    float: left;\n    width: 4.5rem;\n    margin-top: 0.37333rem;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .videoCocer {\n    height: 2.53125rem;\n  }\n  .video:nth-child(even) {\n    margin-left: 0.2rem;\n  }\n\n  .videoTitle,\n  .videoDescription {\n    display: flex;\n    width: 100%;\n    justify-content: flex-start;\n  }\n\n  .videoTitle {\n    font-size: 0.42667rem;\n    height: 0.5rem;\n    color: #333333;\n    text-align: start;\n  }\n\n  .videoDescription {\n    display: -webkit-box;\n    margin-top: 0.1rem;\n    font-size: 0.34667rem;\n    color: #666666;\n    text-align: start;\n    word-break: break-all;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -webkit-box-orient: vertical;\n  }\n\n  .symbol {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 2rem;\n    height: 0.53333rem;\n    background: #ffd200;\n    font-size: 0.4rem;\n    position: absolute;\n    left: 3rem;\n    top: 0.2rem;\n    transform: rotate(45deg);\n  }\n\n  .btnCover {\n    position: absolute;\n    width: 100%;\n    height: 2.53125rem;\n    left: 0;\n    top: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: .24;\n  }\n\n  .deleteBtn {\n    position: absolute;\n    top: 25%;\n    left: calc(50% - 0.75rem);\n    background: #51b7ff;\n    outline: none;\n    border: none;\n    width: 1.5rem;\n    border-radius: 0.1rem;\n    color: #ffffff;\n  }\n\n  .notice {\n    font-size: 0.42667rem;\n    color: #666666;\n    margin-top: 0.5rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User/Myvideo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myVideo\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('img',{staticClass:\"releaseIcon\",attrs:{\"src\":require(\"../../assets/img/back.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"usersTitle\"},[_vm._v(\"教学视频\")]),_vm._v(\" \"),_c('span',{staticClass:\"back\"}),_vm._v(\" \"),_c('span',{staticClass:\"upload\",on:{\"click\":_vm.upload}},[_vm._v(\"上传\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.videos.length === 0),expression:\"videos.length === 0\"}],staticClass:\"notice\"},[_vm._v(\"您还没有任何教学视频，快去上传吧！\")]),_vm._v(\" \"),_c('ul',{staticClass:\"videos\"},[_vm._l((_vm.videos),function(video,index){return _c('li',{key:index,staticClass:\"video\",on:{\"click\":function($event){_vm.play(index)},\"touchstart\":function($event){_vm.showDeleteBtn(index)},\"touchend\":function($event){_vm.clearLoop(index)}}},[_c('img',{staticClass:\"videoCover\",attrs:{\"src\":video.fVideoCoverImgUrl}}),_vm._v(\" \"),_c('span',{staticClass:\"videoTitle\"},[_vm._v(_vm._s(video.fVideoName))]),_vm._v(\" \"),_c('span',{staticClass:\"videoDescription\"},[_vm._v(_vm._s(video.fVideoNote))]),_vm._v(\" \"),(video.fIsOpen === '1')?_c('div',{staticClass:\"symbol\"},[_vm._v(\"收费\")]):_vm._e(),_vm._v(\" \"),(video.isDeleting)?_c('div',{staticClass:\"btnCover\",on:{\"click\":function($event){$event.stopPropagation();_vm.hideBtn(index)}}}):_vm._e(),_vm._v(\" \"),(video.isDeleting)?_c('button',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideBtn),expression:\"hideBtn\"}],ref:\"deleteBtns\",refInFor:true,staticClass:\"deleteBtn\",on:{\"click\":function($event){$event.stopPropagation();_vm.clickDelFloor(index)}}},[_vm._v(\"删除\")]):_vm._e()])}),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"block\",\"clear\":\"both\"}})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5416045a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User/Myvideo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5416045a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Myvideo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Myvideo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Myvideo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5416045a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Myvideo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5416045a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User/Myvideo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}