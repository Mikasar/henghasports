{"version":3,"sources":["webpack:///./src/assets/img/add.png","webpack:///src/views/Release.vue","webpack:///./static/js/camera.js","webpack:///./src/views/Release.vue?6da8","webpack:///./src/views/Release.vue?09cd","webpack:///./src/assets/img/location_black.png"],"names":["module","exports","Release","name","data","hasVideo","relaFiles","hasFile","formData","preViews","videoPreview","dataForm","blog","position","isShow","hasMask","mounted","this","FormData","hasFiles","methods","hasPic","Object","mint_ui_common","message","duration","$refs","pic","files","length","camera","back","$router","go","edit","_this","console","log","video","store","state","uploadFileType","fileUrls","relaFile","videoUrl","getdata","lib_default","a","stringify","montNote","catType","then","res","status","i","push","join","add","getCamera","navigator","getPicture","imageURL","document","getElementById","src","alert","quality","destinationType","Camera","DestinationType","DATA_URL","sourceType","PictureSourceType","PHOTOLIBRARY","getPic","click","commit","getVideo","upLoadImg","_this2","append","headers","Content-Type","getCover","_this3","open","text","spinnerType","setTimeout","close","getPosition","views_Release","render","_vm","_h","$createElement","_c","_self","staticClass","on","attrs","__webpack_require__","_v","directives","rawName","value","expression","type","placeholder","autofocus","maxlength","domProps","input","$event","target","composing","$set","_s","fullFile","_e","_l","preView","index","key","id","staticStyle","clear","ref","display","accept","capture","change","_m","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/17.71529afd996aa7d3c404.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KbszeLgAAAPRJREFUWAljYBjpgJHcAEhPT/f4//+/BUg/kD45e/bs7eSYxUKOJpCef//+eTAyMuZD9U8G0mQ5gAlqwIBRow4YDYHREBgNgQEPAXhdkJKS4gosWquJLRKBalWAaqWh6p8C64M7xOoFqmsH1h07QerhdQHQQAkgtifBEGSl0kC9MMcgi+Niz4dJDHgUwEMAGIQXgb5ohLmMCNoDqMYcpA6o9xRQL9G1IVDtBZj58DQAEyCWTk1NnQA0CFwdAx0wGRinecTqRVY34FEw6oDREBgNgdEQGPAQgNcFyMUjMWxgz2gKsCjeAFILLIqfEKNnVA22EAAAMY41uEN/5TkAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/add.png\n// module id = Dgxh\n// module chunks = 17","<template>\n    <div class=\"release\">\n        <div class=\"header\">\n            <span @click=\"back\" class=\"back\">\n                <img src=\"../assets/img/back.png\" class=\"releaseIcon\">\n            </span>\n            <span @click=\"edit\" class=\"edit\">\n                发布\n            </span>\n        </div>\n        <div class=\"content\">\n            <div class=\"message\">\n                <textarea class=\"messageBox\" type=\"text\" placeholder=\"请输入您想分享的事...\" v-model=\"dataForm.blog\" autofocus=\"autofocus\" maxlength=\"200\"></textarea>\n            </div>\n            <div class=\"limit\">{{ dataForm.blog.length }}/200</div>\n            <div class=\"videoPreview\" v-if=\"hasVideo\">\n                <img :src=\"videoPreview.fullFile\">\n            </div>\n            <div class=\"preViews\" v-for=\"(preView, index) in preViews\" :key=\"index\">\n                <div class=\"preview\">\n                    <img :src=\"preView.fullFile\" id=\"myImage\">\n                </div>\n            </div>\n            <div class=\"add\" @click=\"add\" v-if=\"!hasVideo || $refs.pic.files.length > 8\">\n                <img src=\"../assets/img/add.png\">\n            </div>\n            <div style=\"clear: both;\"></div>\n            <ul class=\"actionMenu\" v-show=\"isShow\">\n                <li>\n                    <label @click=\"getCamera\">拍照</label>\n                    <input type=\"file\" accept=\"image/*\" capture=\"camera\" ref=\"camera\" style=\"display: none;\" id=\"cameraTakePicture\">\n                </li>\n                <li>\n                    <label @click=\"getPic\">相册</label>\n                    <input type=\"file\" accept=\"image/*\" ref=\"pic\" style=\"display: none;\" @change=\"upLoadImg\">\n                </li>\n                <li v-if=\"hasFile\">\n                    <label @click=\"hasPic\">视频</label>\n                </li>\n                <li v-if=\"!hasFile\">\n                    <label @click=\"getVideo\">视频</label>\n                    <input type=\"file\" accept=\"video/*\" ref=\"video\" style=\"display: none;\" @change=\"getCover\">\n                </li>\n            </ul>\n        </div>\n        <div class=\"location\" @click=\"getPosition\">\n            <span>\n                <img src=\"../assets/img/location_black.png\">\n                <span class=\"weizhi\">所在位置</span>\n            </span>\n            <span>定位</span>\n        </div>\n        <div class=\"mask\" v-show=\"hasMask\" @click=\"add\"></div>\n    </div>\n</template>\n\n<script>\nimport { cameraTakePicture } from '../../static/js/camera'\nimport { uploadImgs, getCover, dynamicsRelease } from '../api/getdata'\nimport store from '../vuex/store'\nimport Qs from 'qs'\nimport { Toast, Indicator } from 'mint-ui'\nexport default {\n  name: 'Release',\n  data () {\n    return {\n      hasVideo: false,\n      relaFiles: [],\n      hasFile: false,\n      formData: {},\n      preViews: [],\n      videoPreview: {},\n      dataForm: {\n        blog: '', position: ''\n      },\n      isShow: false,\n      hasMask: false\n    }\n  },\n  mounted () {\n    this.formData = new FormData()\n    this.hasFiles()\n  },\n  methods: {\n    hasPic () {\n      Toast({\n        message: '请选择图片',\n        duration: 1500\n      })\n    },\n    hasFiles () {\n      if (this.$refs.pic.files.length === 0 && this.$refs.camera.files.length === 0) {\n        this.hasFile = false\n      } else {\n        this.hasFile = true\n      }\n      return this.hasFile\n    },\n    back () {\n      this.$router.go(-1)\n    },\n    edit () {\n      console.log(this.dataForm.blog)\n      console.log(this.formData)\n      if (this.dataForm.blog === '' && this.$refs.pic.files.length === 0 && this.$refs.camera.files.length === 0 && this.$refs.video.files.length === 0) {\n        Toast({\n          message: '动态内容不能为空',\n          duration: 1000\n        })\n      } else {\n        console.log(store.state.uploadFileType)\n        if (store.state.uploadFileType === 'isVideo') {\n          let fileUrls = this.videoPreview.relaFile + ',' + this.videoPreview.videoUrl\n          let data = dynamicsRelease(Qs.stringify({\n            'files': fileUrls, 'montNote': this.dataForm.blog, 'catType': '1'\n          }))\n          data.then(res => {\n            console.log(res)\n            if (res.status === '0') {\n              Toast({\n                message: '发布成功',\n                duration: 1500\n              })\n              this.$router.go(-1)\n            }\n          })\n        } else {\n          for (let i = 0; i < this.preViews.length; i++) {\n            this.relaFiles.push(this.preViews[i].relaFile)\n          }\n          let data = dynamicsRelease(Qs.stringify({\n            'files': this.relaFiles.join(','), 'montNote': this.dataForm.blog, 'catType': '0'\n          }))\n          data.then(res => {\n            console.log(res)\n            if (res.status === '0') {\n              Toast({\n                message: '发布成功',\n                duration: 1500\n              })\n              this.$router.go(-1)\n            }\n          })\n        }\n      }\n    },\n    add () {\n      this.isShow = !this.isShow\n      this.hasMask = !this.hasMask\n      this.hasFiles()\n      // console.log(this.hasFile)\n    },\n    getCamera () {\n      // this.$refs.camera.click()\n      // store.commit('getUploadFileType', 'isPic')\n      cameraTakePicture()\n    },\n    getPic () {\n      this.$refs.pic.click()\n      store.commit('getUploadFileType', 'isPic')\n    },\n    getVideo () {\n      this.$refs.video.click()\n      store.commit('getUploadFileType', 'isVideo')\n    },\n    upLoadImg () {\n      this.add()\n      // console.log(this.$refs.pic.files)\n      if (this.$refs.pic.length !== 0) {\n        // var formData = new FormData()\n        // this.formData.append('files', this.$refs.pic.files[0])\n        this.formData.append('scene', 'comm')\n        // 多张图片上传\n        for (let i = 0; i < this.$refs.pic.files.length; i++) {\n          this.formData.append('files', this.$refs.pic.files[i])\n        }\n        // console.log(this.formData)\n      }\n      let config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n      let data = uploadImgs(this.formData, config)\n      data.then(res => {\n        console.log(res)\n        this.preViews = res.data\n      })\n    },\n    getCover () {\n      // console.log('video')\n      // console.log(this.fileType)\n      this.add()\n      // console.log(this.$refs.video.files)\n      if (this.$refs.video.length !== 0) {\n        // var formData = new FormData()\n        this.formData.append('file', this.$refs.video.files[0])\n        this.formData.append('scene', 'comm')\n      }\n      let config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }\n      Indicator.open({\n        text: '视频上传中',\n        spinnerType: 'snake'\n      })\n      let data = getCover(this.formData, config)\n      data.then(res => {\n        console.log(res)\n        if (res.status === '0') {\n          Toast({\n            message: '视频上传成功',\n            duration: 1000\n          })\n          setTimeout(() => {\n            this.videoPreview = res.data\n            console.log(this.videoPreview.relaFile + ',' + this.videoPreview.videoUrl)\n            this.hasVideo = true\n            Indicator.close()\n          }, 1000)\n        } else {\n          Toast({\n            message: '视频上传失败，请重新上传',\n            duration: 1500\n          })\n        }\n      })\n    },\n    getPosition () {\n      Toast({\n        message: '暂时不支持定位',\n        duration: 1500\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  * {\n    font-size: 0.4rem;\n  }\n\n  .release {\n    width: 100%;\n  }\n\n  .header {\n    height: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n  }\n\n  .header span {\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n  }\n\n  .back {\n    height: 0.5rem;\n    width: 0.266667rem;\n  }\n\n  .edit {\n    font-size: 0.45rem;\n    color: #ffd200;\n  }\n\n  .location,\n  .content {\n    margin: 0 0.3rem;\n    width: calc(100% - 0.6rem)\n  }\n\n  .releaseIcon {\n    width: 100%;\n  }\n\n  .messageBox {\n    padding: 0;\n    border: none;\n    width: 100%;\n    height: 2.5rem;\n    outline: none;\n    padding: 0.1rem 0.2rem;\n  }\n\n  .limit {\n    height: 1rem;\n    text-align: end;\n    color: #666666;\n  }\n\n  .videoPreview {\n    float: left;\n    width: 4.62222rem;\n    height: 2.6rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n\n  .preview,\n  .add {\n    float: left;\n    width: 2.6rem;\n    height: 2.6rem;\n    margin: 0 0.2rem;\n    border: 1px solid #ccc;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n\n  .videoPreview img,\n  .preview img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .add img {\n    width: 50%;\n    height: 50%;\n    opacity: .5;\n  }\n\n  .location {\n    display: flex;\n    justify-content: space-between;\n    color: #666666;\n    margin-top: 0.4rem;\n    padding: 0.4rem 0;\n    border-top: 1px solid #f5f5f5;\n    border-bottom: 1px solid #f5f5f5;\n  }\n\n  .location span {\n    display: flex;\n    align-items: center;\n  }\n\n  .location img {\n    width: 0.6rem;\n    height: 0.6rem;\n  }\n\n  .weizhi {\n    margin-left: 0.3rem;\n  }\n\n  .actionMenu {\n    position: absolute;\n    list-style: none;\n    background: #fff;\n    width: 55%;\n    border: 1px solid #ccc;\n    border-radius: 0.2rem;\n    left: 22%;\n    top: 7rem;\n    padding: 0;\n    z-index: 999;\n  }\n\n  .actionMenu li {\n    border-bottom: 1px solid #f5f5f5;\n    padding: 0.4rem 0;\n  }\n\n  .mask {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: #000000;\n    opacity: .24;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Release.vue","function cameraTakePicture () {\n  navigator.camera.getPicture(onSuccess, onFail, { quality: 50,\n    destinationType: Camera.DestinationType.DATA_URL,\n    sourceType: Camera.PictureSourceType.PHOTOLIBRARY\n  })\n  function onSuccess (imageURL) {\n    var image = document.getElementById('myImage')\n    image.src = imageURL\n    alert(imageURL)\n  }\n  function onFail (message) {\n    alert('Failed because: ' + message)\n  }\n}\nexport {\n  cameraTakePicture\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/js/camera.js\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"release\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('img',{staticClass:\"releaseIcon\",attrs:{\"src\":require(\"../assets/img/back.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"edit\",on:{\"click\":_vm.edit}},[_vm._v(\"\\n            发布\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"message\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dataForm.blog),expression:\"dataForm.blog\"}],staticClass:\"messageBox\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入您想分享的事...\",\"autofocus\":\"autofocus\",\"maxlength\":\"200\"},domProps:{\"value\":(_vm.dataForm.blog)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.dataForm, \"blog\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"limit\"},[_vm._v(_vm._s(_vm.dataForm.blog.length)+\"/200\")]),_vm._v(\" \"),(_vm.hasVideo)?_c('div',{staticClass:\"videoPreview\"},[_c('img',{attrs:{\"src\":_vm.videoPreview.fullFile}})]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.preViews),function(preView,index){return _c('div',{key:index,staticClass:\"preViews\"},[_c('div',{staticClass:\"preview\"},[_c('img',{attrs:{\"src\":preView.fullFile,\"id\":\"myImage\"}})])])}),_vm._v(\" \"),(!_vm.hasVideo || _vm.$refs.pic.files.length > 8)?_c('div',{staticClass:\"add\",on:{\"click\":_vm.add}},[_c('img',{attrs:{\"src\":require(\"../assets/img/add.png\")}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"actionMenu\"},[_c('li',[_c('label',{on:{\"click\":_vm.getCamera}},[_vm._v(\"拍照\")]),_vm._v(\" \"),_c('input',{ref:\"camera\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"capture\":\"camera\",\"id\":\"cameraTakePicture\"}})]),_vm._v(\" \"),_c('li',[_c('label',{on:{\"click\":_vm.getPic}},[_vm._v(\"相册\")]),_vm._v(\" \"),_c('input',{ref:\"pic\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.upLoadImg}})]),_vm._v(\" \"),(_vm.hasFile)?_c('li',[_c('label',{on:{\"click\":_vm.hasPic}},[_vm._v(\"视频\")])]):_vm._e(),_vm._v(\" \"),(!_vm.hasFile)?_c('li',[_c('label',{on:{\"click\":_vm.getVideo}},[_vm._v(\"视频\")]),_vm._v(\" \"),_c('input',{ref:\"video\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"video/*\"},on:{\"change\":_vm.getCover}})]):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"location\",on:{\"click\":_vm.getPosition}},[_vm._m(0),_vm._v(\" \"),_c('span',[_vm._v(\"定位\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMask),expression:\"hasMask\"}],staticClass:\"mask\",on:{\"click\":_vm.add}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('img',{attrs:{\"src\":require(\"../assets/img/location_black.png\")}}),_vm._v(\" \"),_c('span',{staticClass:\"weizhi\"},[_vm._v(\"所在位置\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-afb70526\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Release.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-afb70526\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Release.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Release.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Release.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-afb70526\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Release.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-afb70526\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Release.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADJklEQVRYR8XWWehuYxQG8N9RRCQUF26IzDIXF4aQecgUcY4xmUoyRVHKBZLpgiLkGFOElCFDxmS4MQ8ZQiJzcUjmHq1du32+79t7fy7+793e77vWetZaz3red5EFXosWOL6xAFbFodgLW2M9rIBP8SaexIP4eWhiYwAch6uwdjn/FZ/ge/5LZDusVt/n47YhIIYAWAV34TAk6I24Hy/jn1aQFbE3LsZOeAAB/cssIH0A4jRl3Q2P4Xh8OyCzM3ENXivbP6bZ9AG4AWfgesTpmHU47sMtOGUeAFviDTxbpPu75WQtnIiD6t/7uBYfdAJdjXOwFd6aBGJWBe7FkdgYH7WM047HsXLH4W/YH8+0/q+Oz/E0UpHl1jQAcf4jnsO+LatNatxSjfOKaF9hMzyEDWoa2tnejGOwJn7vIpgGIFmm9KcX6xu7hhMH4pGOs1TqbdyBk1t7RxQX4vP5oQCOxj3YvYA0dgmQyUglJq1XK9ONWps71shmJO8cCuDYyiSK91TLKAD+KhWcBmCN4k2zvzNewEmTxGlaC/Ypok1qwanYdgKrU5X0vtuCJZV5fD4xtAIZs+/K2Qkto01rNL/AwXin9kLCh7E+ti+iNmaX40KsM0nEZo1h0O5ahj+1QORfVDESnfnPCrAw/IAaueb4Svi6yLnLmDHM2f3wKC7CZR3jkCwCk8yzAijj9kPn3NklyblBM6bLrT4pjuM9sDk+nsL8ab9zVadCubQyTRNXH4B18V5JbG64thzPwhO/Yf422AKfzQsgdrkBl+ICXDmwCmfhOpyGm/qQDvEZLuxZGaUis9aGRbqXymbm4b4WNMYZoQ/r6RUNmNaK+HulOBNp/rIvu6EA4mdxvYwmTUUT59x6tuUuuLUvePbHAMj5tCLynPu924qU/l28OKT0DbixANKKBI4SRvH+LEd5GWfcIsfRht7Szwsgdkchj5VLcGk5yoRcgcj27UNK/38AxDZv/7wJdigJfr0kOC+iUWtsCxrnuawyFdH5PLvD+MjzN6Oiz0HCtv9DqhL5lyv37rHB55mCboxwYVnnCTYKx7wtGBVk1uEFB/AvGXaeIV1AD1oAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/location_black.png\n// module id = bsMe\n// module chunks = 17"],"sourceRoot":""}