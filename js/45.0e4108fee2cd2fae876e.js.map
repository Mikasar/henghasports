{"version":3,"sources":["webpack:///src/views/User/Recharge.vue","webpack:///./src/views/User/Recharge.vue?b30b","webpack:///./src/views/User/Recharge.vue?ebcb"],"names":["Recharge","name","data","tradeNo","phoneNum","counts","otherSum","sumCount","sumMoney","selected","unselected","timer","sums","num","mounted","_this","this","getPhoneNum","setInterval","getOrder","destroyed","clearInterval","methods","back","$router","go","_this2","Object","getdata","fUserId","localStorage","getItem","then","res","userMobile","setSum","index","i","length","console","log","ensure","_this3","mint_ui_common","message","duration","WIDsubject","WIDtotal_amount","status","info","WIDout_trade_no","payInfo","sign","cordova","plugins","alipay","payment","e","error","resultStatus","setCount","_this4","push","User_Recharge","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","attrs","src","__webpack_require__","_v","_s","_l","sum","key","class","$event","_e","directives","rawName","value","expression","placeholder","type","domProps","input","target","composing","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uJAgCAA,GACAC,KAAA,WACAC,KAFA,WAGA,OACAC,QAAA,GACAC,SAAA,GACAC,OAAA,KACAC,UAAA,EACAC,SAAA,EACAC,SAAA,KACAC,SAAA,WACAC,WAAA,aACAC,MAAA,KACAC,OACAC,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,IACAI,IAAA,IAAAJ,UAAA,MAGAK,QAvBA,WAuBA,IAAAC,EAAAC,KACAA,KAAAC,cACAD,KAAAL,MAAAO,YAAA,WACAH,EAAAI,YACA,MAEAC,UA7BA,WA8BAC,cAAAL,KAAAL,QAEAW,SACAC,KADA,WAEAP,KAAAQ,QAAAC,IAAA,IAEAR,YAJA,WAIA,IAAAS,EAAAV,KACAW,OAAAC,EAAA,EAAAD,EAAAE,QAAAC,aAAAC,QAAA,YACAC,KAAA,SAAAC,GAEAP,EAAAtB,SAAA6B,EAAA/B,KAAAgC,cAGAC,OAXA,SAWAC,GACApB,KAAAV,UAAA,EACA,QAAA+B,EAAA,EAAAA,EAAArB,KAAAJ,KAAA0B,OAAAD,IACArB,KAAAJ,KAAAyB,GAAA5B,UAAA,EACAO,KAAAJ,KAAAwB,GAAA3B,UAAA,EAEAO,KAAAT,SAAAS,KAAAJ,KAAAwB,GAAAvB,IACA0B,QAAAC,IAAAxB,KAAAT,WAEAkC,OApBA,WAoBA,IAAAC,EAAA1B,MACAE,YAAA,WACAwB,EAAA/B,OACA,KAOAK,KAAAV,SAIAU,KAAAR,SAAAQ,KAAAT,SAFAS,KAAAR,SAAAQ,KAAAX,OAIAkC,QAAAC,IAAAxB,KAAAR,UACA,IAAAQ,KAAAR,UAAA,OAAAQ,KAAAR,UACQmB,OAAAgB,EAAA,MAAAhB,EACRiB,QAAA,WACAC,SAAA,OAGAlB,OAAAC,EAAA,EAAAD,EAAAmB,WAAA,WAAAC,gBAAA/B,KAAAR,WACAwB,KAAA,SAAAC,GAEA,GADAM,QAAAC,IAAAP,GACA,OAAAA,EAAAe,OACYrB,OAAAgB,EAAA,MAAAhB,EACZiB,QAAAX,EAAAgB,KACAJ,SAAA,WAEA,CACAH,EAAAvC,QAAA8B,EAAA/B,KAAAgD,gBACA,IAAAC,EAAAlB,EAAA/B,KAAAkD,KACAC,QAAAC,QAAAC,OAAAC,QAAAL,EAAA,SAAAM,GACAlB,QAAAC,IAAA,SACA,SAAAkB,GACAnB,QAAAC,IAAA,OAAAkB,EAAAC,oBAOAC,SAhEA,WAiEA5C,KAAAX,OAAA,KACA,QAAAgC,EAAA,EAAAA,EAAArB,KAAAJ,KAAA0B,OAAAD,IACArB,KAAAJ,KAAAyB,GAAA5B,UAAA,EAEAO,KAAAV,UAAA,GAEAa,SAvEA,WAuEA,IAAA0C,EAAA7C,KACAW,OAAAC,EAAA,EAAAD,EAAAuB,gBAAAlC,KAAAb,UACA6B,KAAA,SAAAC,GAEA,MAAAA,EAAAe,QACAa,EAAArC,QAAAsC,KAAA,4BCzIeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAjD,KAAakD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAaE,YAAA,OAAAC,IAAuBC,MAAAP,EAAA1C,QAAkB6C,EAAA,OAAYE,YAAA,cAAAG,OAAiCC,IAAMC,EAAQ,aAA8BV,EAAAW,GAAA,KAAAR,EAAA,QAA2BE,YAAA,eAAyBL,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,QAA0CE,YAAA,WAAmBL,EAAAW,GAAA,KAAAR,EAAA,OAA0BE,YAAA,aAAuBF,EAAA,QAAAH,EAAAW,GAAAX,EAAAY,GAAAZ,EAAA7D,aAAA6D,EAAAW,GAAA,KAAAR,EAAA,MAAAH,EAAAW,GAAA,KAAAR,EAAA,QAAAH,EAAAW,GAAA,YAAAX,EAAAW,GAAA,KAAAR,EAAA,OAAiIE,YAAA,WAAqBL,EAAAW,GAAA,KAAAR,EAAA,OAAwBE,YAAA,QAAkBF,EAAA,MAAAH,EAAAa,GAAAb,EAAA,cAAAc,EAAA3C,GAAiD,OAAAgC,EAAA,MAAgBY,IAAA5C,EAAA6C,MAAAF,EAAAtE,SAAAwD,EAAAxD,SAAAwD,EAAAvD,WAAA6D,IAAiEC,MAAA,SAAAU,GAAyBjB,EAAA9B,OAAAC,OAAoB6B,EAAAW,GAAAX,EAAAY,GAAAE,EAAAlE,KAAA,UAAiCoD,EAAAW,GAAA,KAAAX,EAAA,SAAAG,EAAA,MAAsCE,YAAA,QAAAC,IAAwBC,MAAAP,EAAAL,YAAsBK,EAAAW,GAAA,UAAAX,EAAAkB,MAAA,KAAAlB,EAAAW,GAAA,KAAAX,EAAA3D,SAAmX2D,EAAAkB,KAAnXf,EAAA,OAAwEE,YAAA,aAAuBF,EAAA,SAAcgB,aAAanF,KAAA,QAAAoF,QAAA,UAAAC,MAAArB,EAAA,OAAAsB,WAAA,WAAsEd,OAASe,YAAA,UAAAC,KAAA,OAAqCC,UAAWJ,MAAArB,EAAA,QAAqBM,IAAKoB,MAAA,SAAAT,GAAyBA,EAAAU,OAAAC,YAAsC5B,EAAA5D,OAAA6E,EAAAU,OAAAN,WAAiCrB,EAAAW,GAAA,KAAAR,EAAA,QAAAH,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,UAA2EE,YAAA,YAAAC,IAA4BC,MAAAP,EAAAxB,UAAoBwB,EAAAW,GAAA,aAEp5CkB,oBCCjB,IAcAC,EAdyBpB,EAAQ,OAcjCqB,CACEhG,EACA+D,GATF,EAVA,SAAAkC,GACEtB,EAAQ,SAaV,kBAEA,MAUeuB,EAAA,QAAAH,EAAiB","file":"js/45.0e4108fee2cd2fae876e.js","sourcesContent":["<template>\n    <div class=\"recharge\">\n        <div class=\"header\">\n            <span @click=\"back\" class=\"back\">\n                <img src=\"../../assets/img/back.png\" class=\"releaseIcon\">\n            </span>\n            <span class=\"usersTitle\">账户充值</span>\n            <span class=\"back\"></span>\n        </div>\n        <div class=\"userInfo\">\n            <span>{{ phoneNum }}</span>\n            <br>\n            <span>当前账户</span>\n        </div>\n        <div class=\"border\"></div>\n        <div class=\"sum\">\n            <ul>\n                <li v-for=\"(sum, index) in sums\" :key=\"index\" :class=\"sum.selected ? selected : unselected\" @click=\"setSum(index)\">{{ sum.num }} 元</li>\n                <li class=\"other\" @click=\"setCount\" v-if=\"otherSum\">其他金额</li>\n            </ul>\n        </div>\n        <div class=\"otherSum\" v-if=\"!otherSum\">\n            <input placeholder=\"请输入其他金额\" v-model=\"counts\" type=\"tel\">\n            <span>元</span>\n        </div>\n        <button class=\"ensureBtn\" @click=\"ensure\">确认充值</button>\n    </div>\n</template>\n\n<script>\nimport { getUserInfo, reCharge, checkAlipay } from '../../api/getdata'\nimport { Toast } from 'mint-ui'\nexport default {\n  name: 'recharge',\n  data () {\n    return {\n      tradeNo: '',\n      phoneNum: '',\n      counts: null,\n      otherSum: true,\n      sumCount: 0,\n      sumMoney: null,\n      selected: 'selected',\n      unselected: 'unselected',\n      timer: null,\n      sums: [\n        { num: 100, selected: false },\n        { num: 200, selected: false },\n        { num: 300, selected: false },\n        { num: 500, selected: false },\n        { num: 1000, selected: false },\n        { num: 2000, selected: false },\n        { num: 5000, selected: false }]\n    }\n  },\n  mounted () {\n    this.getPhoneNum()\n    this.timer = setInterval(() => {\n      this.getOrder()\n    }, 2000)\n  },\n  destroyed () {\n    clearInterval(this.timer)\n  },\n  methods: {\n    back () {\n      this.$router.go(-1)\n    },\n    getPhoneNum () {\n      let data = getUserInfo({fUserId: localStorage.getItem('userId')})\n      data.then(res => {\n        // console.log(res)\n        this.phoneNum = res.data.userMobile\n      })\n    },\n    setSum (index) {\n      this.otherSum = true\n      for (var i = 0; i < this.sums.length; i++) {\n        this.sums[i].selected = false\n        this.sums[index].selected = true\n      }\n      this.sumCount = this.sums[index].num\n      console.log(this.sumCount)\n    },\n    ensure () {\n      setInterval(() => {\n        this.timer\n      }, 2000)\n      // if (this.counts < 10) {\n      //  Toast({\n      //    message: '最小充值金额为10元',\n      //    duration: 1500\n      //  })\n     // } else {\n        if (!this.otherSum) {\n          // console.log(this.counts)\n          this.sumMoney = this.counts\n        } else {\n          this.sumMoney = this.sumCount\n        }\n        console.log(this.sumMoney)\n        if (this.sumMoney === 0 || this.sumMoney === null) {\n          Toast({\n            message: '请先选择充值金额',\n            duration: 1500\n          })\n        } else {\n          let data = reCharge({WIDsubject: '哼哈运动钱包充值', WIDtotal_amount: this.sumMoney})\n          data.then(res => {\n            console.log(res)\n            if (res.status === '-1') {\n              Toast({\n                message: res.info,\n                duration: 1500\n              })\n            } else {\n              this.tradeNo = res.data.WIDout_trade_no\n              var payInfo = res.data.sign\n              cordova.plugins.alipay.payment(payInfo, function success (e) {\n                console.log('支付成功')\n              }, function error (error) {\n                console.log('支付失败' + error.resultStatus)\n              })\n            }\n          })\n        }\n      //}\n    },\n    setCount () {\n      this.counts = null\n      for (var i = 0; i < this.sums.length; i++) {\n        this.sums[i].selected = false\n      }\n      this.otherSum = false\n    },\n    getOrder () {\n      let data = checkAlipay({WIDout_trade_no: this.tradeNo})\n      data.then(res => {\n        // console.log(res)\n        if (res.status === '0') {\n          this.$router.push('/home/mine/myWallet')\n          // console.log('success')\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  * {\n    margin: 0;\n    padding: 0;\n    font-size: 0.426667rem;\n    color: #333333;\n  }\n\n  .header {\n    height: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    font-size: 0.48rem;\n  }\n\n  .header span {\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n    line-height: 0.5rem;\n  }\n\n  .back {\n    height: 0.5rem;\n    width: 0.266667rem;\n  }\n\n  img {\n    width: 100%;\n  }\n\n  .userInfo {\n    width: calc(100% - 0.8rem);\n    margin: 0 auto;\n    text-align: start;\n  }\n\n  .userInfo span:last-child {\n    display: inline-block;\n    color: #666666;\n    font-size: 0.37333rem;\n    margin-top: 0.1rem;\n  }\n\n  .border {\n    width: 100%;\n    height: 0.21333rem;\n    background: #f5f5f5;\n    margin: 0.37333rem 0 0.29333rem 0;\n  }\n\n  .sum {\n    width: calc(100% - 0.8rem);\n    margin: 0 auto;\n  }\n\n  .sum ul {\n    list-style: none;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  .sum ul li {\n    width: 30%;\n    height: 1.14667rem;\n    border-radius: 0.15rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0.24rem 0;\n  }\n\n  .sum ul li:nth-child(3n + 2) {\n    margin: 0.24rem 3%;\n  }\n\n  .other {\n    border: 1px solid #666666;\n  }\n\n  .selected {\n    border: 1px solid #ffd200;\n    color: #ffd200;\n  }\n\n  .unselected {\n    border: 1px solid #666666;\n  }\n\n  .ensureBtn {\n    width: calc(100% - 0.8rem);\n    height: 1.33333rem;\n    position: fixed;\n    bottom: 0.9rem;\n    left: 0.4rem;\n    border-radius: 0.15rem;\n    background: #ffd200;\n    border: none;\n    outline: none;\n    color: #fff;\n  }\n\n  .otherSum {\n    width: calc(100% - 0.8rem);\n    margin: 0 auto;\n    position: relative;\n  }\n\n  .otherSum input {\n    border: 1px solid #ffd200;\n    width: calc(100% - 1rem);\n    height: 1.17333rem;\n    border-radius: 0.15rem;\n    padding: 0 0.5rem;\n    outline: none;\n  }\n\n  .otherSum span {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 1rem;\n    height: 1rem;\n    position: absolute;\n    color: #ffd200;\n    top: calc(50% - 0.5rem);\n    right: 0.2rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User/Recharge.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recharge\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('img',{staticClass:\"releaseIcon\",attrs:{\"src\":require(\"../../assets/img/back.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"usersTitle\"},[_vm._v(\"账户充值\")]),_vm._v(\" \"),_c('span',{staticClass:\"back\"})]),_vm._v(\" \"),_c('div',{staticClass:\"userInfo\"},[_c('span',[_vm._v(_vm._s(_vm.phoneNum))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"当前账户\")])]),_vm._v(\" \"),_c('div',{staticClass:\"border\"}),_vm._v(\" \"),_c('div',{staticClass:\"sum\"},[_c('ul',[_vm._l((_vm.sums),function(sum,index){return _c('li',{key:index,class:sum.selected ? _vm.selected : _vm.unselected,on:{\"click\":function($event){_vm.setSum(index)}}},[_vm._v(_vm._s(sum.num)+\" 元\")])}),_vm._v(\" \"),(_vm.otherSum)?_c('li',{staticClass:\"other\",on:{\"click\":_vm.setCount}},[_vm._v(\"其他金额\")]):_vm._e()],2)]),_vm._v(\" \"),(!_vm.otherSum)?_c('div',{staticClass:\"otherSum\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.counts),expression:\"counts\"}],attrs:{\"placeholder\":\"请输入其他金额\",\"type\":\"tel\"},domProps:{\"value\":(_vm.counts)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.counts=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\"元\")])]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"ensureBtn\",on:{\"click\":_vm.ensure}},[_vm._v(\"确认充值\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b96f9ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User/Recharge.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b96f9ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recharge.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recharge.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recharge.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b96f9ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recharge.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b96f9ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User/Recharge.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}